jQuery(document).ready(function($){function e(){var e=($(window).width()-$(".cd-quick-view").width())/2,i=($(window).height()-$(".cd-quick-view").height())/2;$(".cd-quick-view").css({top:i,left:e})}function i(e){var i=e.parents(".cd-slider-wrapper").find(".cd-slider"),s=i.children(".selected").removeClass("selected");e.hasClass("cd-next")?s.is(":last-child")?i.children("li").eq(0).addClass("selected"):s.next().addClass("selected"):s.is(":first-child")?i.children("li").last().addClass("selected"):s.prev().addClass("selected")}function s(e){$(".cd-quick-view .cd-slider li").removeClass("selected").find('img[src="'+e+'"]').parent("li").addClass("selected")}function d(e,i,s,d){var t=e.parent(".cd-item"),c=e.offset().top-$(window).scrollTop(),l=e.offset().left,a=e.width(),o=e.height(),n=$(window).width(),r=$(window).height(),w=(n-i)/2,v=i*o/a,h=(r-v)/2,u=s>.8*n?.8*n:s,f=(n-u)/2;"open"===d?(t.addClass("empty-box"),$(".cd-quick-view").css({top:c,left:l,width:a}).velocity({top:h+"px",left:w+"px",width:i+"px"},1e3,[400,20],function(){$(".cd-quick-view").addClass("animate-width").velocity({left:f+"px",width:u+"px"},300,"ease",function(){$(".cd-quick-view").addClass("add-content")})}).addClass("is-visible")):(console.log("close animation"),$(".cd-quick-view").removeClass("add-content").velocity({top:h+"px",left:w+"px",width:i+"px"},300,"ease",function(){$("body").removeClass("overlay-layer"),$(".cd-quick-view").removeClass("animate-width").velocity({top:c,left:l,width:a},500,"ease",function(){$(".cd-quick-view").removeClass("is-visible"),t.removeClass("empty-box")})}))}function t(e,i){console.log("close");var s=$(".cd-close"),t=s.siblings(".cd-slider-wrapper").find(".selected img").attr("src"),c=$(".empty-box").find("img");!$(".cd-quick-view").hasClass("velocity-animating")&&$(".cd-quick-view").hasClass("add-content")&&(c.attr("src",t),d(c,e,i,"close"))}var c=400,l=900;$(".cd-trigger").on("click",function(e){var i=$(this).parent(".cd-item").children("img"),t=i.attr("src");$("body").addClass("overlay-layer"),d(i,c,l,"open"),s(t)}),$("body").on("click",function(e){($(e.target).is(".cd-close")||$(e.target).is("body.overlay-layer"))&&t(c,l)}),$(".cd-quick-view").on("click",".cd-slider-navigation a",function(){i($(this))}),$(window).on("resize",function(){$(".cd-quick-view").hasClass("is-visible")&&window.requestAnimationFrame(e)})});